# Main config

# Resources

[colors]
full_black = #000000
dark_black = ${xrdb:dark-black}
light_black = ${xrdb:light-black}
light_red = ${xrdb:light-red}
dark_red = ${xrdb:dark-red}
light_green = ${xrdb:light-green}
dark_green = ${xrdb:dark-green}
light_yellow = ${xrdb:light-yellow}
dark_yellow = ${xrdb:dark-yellow}
light_blue = ${xrdb:light-blue}
dark_blue = ${xrdb:dark-blue}
light_magenta = ${xrdb:light-magenta}
dark_magenta = ${xrdb:dark-magenta}
light_cyan = ${xrdb:light-cyan}
dark_cyan = ${xrdb:dark-cyan}
light_white = ${xrdb:light-white}
dark_white = ${xrdb:dark-white}

[monitors]
primary = eDP1
secondary =
tertiary =
quaternary =


# Settings

[settings]
screenchange-reload = true


[global/wm]
margin-top = 5
margin-bottom = 5


# Bars

[bar/base]
height = 22
width = 100%
radius = 0.0
padding-left = 0
padding-right = 0

foreground = ${colors.light_white}
background = ${colors.full_black}
line-color = ${colors.light_white}
line-size = 3
border-color = ${colors.light_black}
border-size = 0

cursor-click = pointer
fixed-center = yes
font-0 = "JetBrains Mono Medium:size=9;2"
font-1 = "Font Awesome:size=10;2"
font-2 = "Inconsolata for Powerline:pixelsize=15:antialias=true;3"
module-margin-left = 0
module-margin-right = 0


[bar/top]
inherit = bar/base

bottom = false

modules-left = i3
modules-center = xwindow
modules-right = pulseaudio backlight battery xkeyboard powermenu

tray-background = ${colors.full_black}
tray-padding = 0
tray-position = right


[bar/bottom]
inherit = bar/base

bottom = true

modules-left = cpu temperature memory filesystem
modules-center = date
modules-right = wlan eth nordvpn

tray-background = ${colors.full_black}
tray-padding = 0
tray-position = right


[bar/top-monitor1]
inherit = bar/top

monitor = ${monitors.primary} 


[bar/bottom-monitor1]
inherit = bar/bottom

monitor = ${monitors.primary} 


[bar/top-monitor2]
inherit = bar/top

monitor = ${monitors.secondary} 


[bar/bottom-monitor2]
inherit = bar/bottom

monitor = ${monitors.secondary} 


[bar/top-monitor3]
inherit = bar/top

monitor = ${monitors.tertiary} 


[bar/bottom-monitor3]
inherit = bar/bottom

monitor = ${monitors.tertiary} 


# Modules

[module/backlight]
# FIXME
type = internal/backlight

card = intel_backlight
enable-scroll = true

label = "  %percentage%% "
format-foreground = ${colors.light_white}
format-background = ${colors.dark_magenta}


[module/battery]
type = internal/battery

battery = BAT0
adapter = ADP1
low-at = 15
full-at = 98

label-charging = " %percentage%%  %time:0:5%  %consumption% W "
format-charging = <animation-charging> <label-charging>
format-charging-foreground = ${colors.full_black}
format-charging-background = ${colors.dark_yellow}

label-discharging = " %percentage%%  %time:0:5%  %consumption% W "
format-discharging = <ramp-capacity> <label-discharging>
format-discharging-foreground = ${colors.full_black}
format-discharging-background = ${colors.dark_cyan}

label-full = " %percentage%%  %consumption% W "
format-full-prefix = " "
format-full-foreground = ${colors.full_black}
format-full-background = ${colors.dark_green}

label-low= " %percentage%%  %time:0:5%  %consumption% W "
format-low-prefix = " "
format-low-foreground = ${colors.full_black}
format-low-background = ${colors.light_red}

ramp-capacity-0 = " "
ramp-capacity-1 = " "
ramp-capacity-2 = " "
ramp-capacity-3 = " "
ramp-capacity-4 = " "

animation-charging-0 = " "
animation-charging-1 = " "
animation-charging-2 = " "
animation-charging-3 = " "
animation-charging-4 = " "
animation-charging-framerate = 1000


[module/cpu]
inherit = powerline-templates/left-to-right-item  # FIXME
type = internal/cpu

background = ${colors.dark_yellow}  # FIXME
background-next = ${colors.dark_yellow}  # FIXME

interval = 2
format-prefix = "  "
format-foreground = ${colors.light_white}
format-background = ${colors.dark_blue}
label = "%percentage:3%% "


[module/date]
type = internal/date

label = " %date% %time% "
date = " %A %d %B %Y"
time = " %H:%M:%S"
interval = 1

format-foreground = ${colors.light_white}
format-background = ${colors.full_black}


[module/eth]
inherit = module/network

interface = ${env.INTERFACES_MAIN_ETH}

label-connected = "%{A3:nm-connection-editor:}  %local_ip%  %linkspeed%  %downspeed%  %upspeed% %{A}"


[module/filesystem]
type = internal/fs

interval = 10
spacing = 0

mount-0 = /
mount-1 = ${env.MOUNTPOINT_SHAREDPARTITION}

label-mounted = "  %free%/%total% "
label-unmounted = "  %mountpoint%  "
label-unmounted-foreground = ${colors.dark_white}
label-unmounted-background = ${colors.dark_red}

label-mounted-foreground = ${colors.full_black}
label-mounted-background = ${colors.dark_green}


[module/i3]
inherit = powerline-templates/left-to-right-item  # FIXME
type = internal/i3

format = <label-state> <label-mode>
index-sort = true
pin-workspaces = true
wrapping-scroll = false

background = ${colors.light_blue}
background-next = ${colors.light_blue}

label-mode-foreground = ${colors.dark_white}
label-mode-background = ${colors.full_black}
label-mode-padding = 1

# focused = Active workspace on focused monitor
label-focused = "%name%"
label-focused-foreground = ${colors.light_white}
label-focused-background = ${colors.dark_blue}
label-focused-underline= ${colors.dark_blue}
label-focused-padding = 1

# unfocused = Inactive workspace on any monitor
label-unfocused = "%name%"
label-unfocused-foreground = ${colors.dark_white}
label-unfocused-background = ${colors.full_black}
label-unfocused-padding = 1

# visible = Active workspace on unfocused monitor
label-visible = "%name%"
label-visible-background = ${self.label-focused-background}
label-visible-underline = ${self.label-focused-underline}
label-visible-padding = ${self.label-focused-padding}

# urgent = Workspace with urgency hint set
label-urgent = "%name%"
label-urgent-foreground = ${colors.dark_white}
label-urgent-background = ${colors.dark_red}
label-urgent-padding = 1

# Separator in between workspaces
# label-separator = |


[module/mediaplayer]
type = internal/mpd  # TODO

format-online = <label-song>  <icon-prev> <icon-stop> <toggle> <icon-next>

icon-prev = 
icon-stop = 
icon-play = 
icon-pause = 
icon-next = 

label-song-maxlen = 25
label-song-ellipsis = true


[module/memory]
inherit = powerline-templates/left-to-right-item-with-separator  # FIXME
type = internal/memory

background = ${colors.light_white}  # FIXME
separator = ${colors.light_white}  # FIXME

interval = 2
label = "  %gb_free% "
format-foreground = ${colors.light_white}
format-background = ${colors.color-magenta-light}


[module/network]
type = internal/network

interval = 5

label-connected-foreground = ${colors.full_black}
label-connected-background = ${colors.dark_green}
format-connected-underline = ${colors.dark_green}

label-disconnected = "%{A3:nm-connection-editor:}  DOWN %{A}"
label-disconnected-foreground = ${colors.full_black}
label-disconnected-background = ${colors.light_red}
format-disconnected-underline = ${colors.light_red}


[module/nordvpn]
type = custom/script

exec = /home/bryan/bin/nordvpn-status-bar.sh
tail = true
interval = 1

format-foreground = ${colors.full_black}


[module/powermenu]
type = custom/menu

expand-right = false
format-spacing = 0

label-open = "  "
label-open-foreground = ${colors.light_white}
label-close = "  CANCEL "
label-close-foreground = ${colors.light_white}
label-close-background = ${colors.full_black}
label-separator = ""
label-separator-foreground = ${colors.dark_white}

# menu-open-0
menu-0-0 = "  POWEROFF "
menu-0-0-foreground = ${colors.light_white}
menu-0-0-background = ${colors.dark_red}
menu-0-0-exec = menu-open-1
menu-0-1 = "  REBOOT "
menu-0-1-foreground = ${colors.full_black}
menu-0-1-background = ${colors.dark_yellow}
menu-0-1-exec = menu-open-2

# menu-open-1: poweroff
menu-1-0 = "    CONFIRM POWEROFF   "
menu-1-0-foreground = ${colors.light_white}
menu-1-0-background = ${colors.dark_red}
menu-1-0-exec = poweroff

# menu-open-2 reboot
menu-2-0 = "      CONFIRM REBOOT      "
menu-2-0-exec = reboot
menu-2-0-foreground = ${colors.full_black}
menu-2-0-background = ${colors.dark_yellow}


[module/pulseaudio]
type = internal/pulseaudio

label-volume = " %percentage%% "
format-volume = %{A3:pavucontrol:}<ramp-volume> <label-volume>%{A}
format-volume-foreground = ${colors.light_white}
format-volume-background = ${colors.dark_blue}

label-muted = "  MUTED "
label-muted-foreground = ${colors.light_white}
label-muted-background = ${colors.dark_blue}

ramp-volume-0 = " "
ramp-volume-1 = " "
ramp-volume-2 = " "
background = ${colors.dark_yellow}
background-next = ${colors.dark_yellow}


[module/temperature]
inherit = powerline-templates/left-to-right-item  # FIXME
type = internal/temperature

background = ${colors.dark_yellow}  # FIXME
background-next = ${colors.dark_yellow}  # FIXME

hwmon-path = ${env.HWMON_PATH}

thermal-zone = 0
warn-temperature = 85

format = <ramp> <label>
format-foreground = ${colors.full_black}
format-background = ${colors.dark_yellow}

format-warn = <ramp> <label-warn>
format-warn-foreground = ${colors.light_white}
format-warn-background = ${colors.dark_red}

label = " %temperature-c% "
label-warn = " %temperature-c%  "

ramp-0 = " "
ramp-1 = " "
ramp-2 = " "
ramp-3 = " "
ramp-4 = " "


[module/wlan]
inherit = module/network

interface = ${env.INTERFACES_MAIN_WLAN}

label-connected = "%{A3:nm-connection-editor:}  %local_ip%  %essid%  %signal%%  %downspeed%  %upspeed% %{A}"

ramp-signal-0 = 
ramp-signal-1 = 
ramp-signal-2 = 
ramp-signal-3 = 
ramp-signal-4 = 


[module/xbacklight]
type = internal/xbacklight  # FIXME

output = VGA-0
enable-scroll = true

format = <label>
label = "%percentage%"

# bar-width = 10
# bar-indicator = |
# bar-indicator-foreground = #fff
# bar-indicator-font = 2
# bar-fill = ─
# bar-fill-font = 2
# bar-fill-foreground = #9f78e1
# bar-empty = ─
# bar-empty-font = 2
# bar-empty-foreground = ${colors.foreground-alt}


[module/xkeyboard]
type = internal/xkeyboard

format = <label-layout><label-indicator>
format-prefix = "  "
format-foreground = ${colors.full_black}
format-background = ${colors.dark_white}
format-spacing = 0

label-layout = "%layout% "

label-indicator-padding = 1
label-indicator-margin = 1

label-indicator-on-numlock = " 1 "
label-indicator-off-numlock = " 1 "
label-indicator-on-numlock-underline= ${colors.full_black}

label-indicator-on-capslock = " A "
label-indicator-off-capslock = " A "
label-indicator-on-capslock-underline= ${colors.full_black}

label-indicator-on-scrolllock = " ↓ "
label-indicator-off-scrolllock = " ↓ "
label-indicator-on-scrollock-underline= ${colors.full_black}


[module/xwindow]
type = internal/xwindow

label = %title:0:80:...%
